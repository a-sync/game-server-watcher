{
    "name": "Game Server Watcher",
    "author": "a-sync@devs.space",
    "description": "A simple discord/telegram bot that can be hosted on a free service to monitor your game servers and players in style. ðŸ˜Ž",
    "docker_image": "ghcr.io/parkervcp/yolks:nodejs_20",
    "startup": "/usr/local/bin/node /home/container/dist/server.js",
    "config": {
        "files": "{}",
        "startup": "{\r\n    \"done\": \"starting loop...\"\r\n}",
        "logs": "{}",
        "stop": "^^C"
    },
    "scripts": {
        "installation": {
            "script": "#!/bin/bash\r\ncd /mnt/server\r\napt-get update && apt-get install git -yq --no-install-suggests --no-install-recommends --allow-downgrades --allow-remove-essential --allow-change-held-packages\r\ngit clone https://github.com/a-sync/game-server-watcher.git .\r\nnpm install\r\nnpm run build\r\nnpm prune --production",
            "container": "node:20-bookworm-slim",
            "entrypoint": "bash"
        }
    },
    "variables": [
        {
            "name": "SECRET",
            "description": "Admin secret",
            "env_variable": "SECRET",
            "default_value": "secret",
            "user_viewable": true,
            "user_editable": true,
            "input_type": "password",
            "rules": "required|string|min:1|max:255"
        },
        {
            "name": "DATA_PATH",
            "description": "Writable folder for data storage",
            "env_variable": "DATA_PATH",
            "default_value": "./data/",
            "user_viewable": true,
            "user_editable": true,
            "rules": "required|string|min:1|max:255"
        },
        {
            "name": "REFRESH_TIME_MINUTES",
            "description": "Game server info refresh interval in minutes",
            "env_variable": "REFRESH_TIME_MINUTES",
            "default_value": "2",
            "input_type": "number",
            "field_type": "integer",
            "rules": "required|integer|min:1"
        },
        {
            "name": "DISCORD_BOT_TOKEN",
            "description": "Discord bot token",
            "env_variable": "DISCORD_BOT_TOKEN",
            "default_value": "",
            "user_viewable": true,
            "user_editable": true,
            "rules": "nullable|string"
        },
        {
            "name": "TELEGRAM_BOT_TOKEN",
            "description": "Telegram bot token",
            "env_variable": "TELEGRAM_BOT_TOKEN",
            "default_value": "",
            "user_viewable": true,
            "user_editable": true,
            "rules": "nullable|string"
        },
        {
            "name": "STEAM_WEB_API_KEY",
            "description": "Steam web API key",
            "env_variable": "STEAM_WEB_API_KEY",
            "default_value": "",
            "user_viewable": true,
            "user_editable": true,
            "rules": "nullable|string"
        },
        {
            "name": "HOST",
            "description": "Host for the web service",
            "env_variable": "HOST",
            "default_value": "{{config.docker.interface}}",
            "user_viewable": true,
            "user_editable": true,
            "rules": "required|string|max:255"
        },
        {
            "name": "PORT",
            "description": "Port for the web service",
            "env_variable": "PORT",
            "default_value": "{{server.build.default.port}}",
            "user_viewable": true,
            "user_editable": true,
            "input_type": "number",
            "field_type": "integer",
            "rules": "required|numeric|min:1|max:65535"
        },
        {
            "name": "Debug Mode",
            "description": "Enable or disable debug mode.",
            "env_variable": "DBG",
            "default_value": "0",
            "input_type": "select",
            "field_type": "integer",
            "select_options": {
                "0": "OFF",
                "1": "ON"
            },
            "rules": "required|in:0,1"
        }
    ]
}
